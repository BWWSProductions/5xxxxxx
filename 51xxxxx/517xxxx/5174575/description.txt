The 3.1.2 Firmware for iPhone 3G.

Download, extract and update your device.

You need to hold Shift while your pushing the restore button in itunes to pick the file.